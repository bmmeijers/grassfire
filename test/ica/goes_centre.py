from tri import ToPointsAndSegments
from grassfire import calc_skel
#from simplegeom.wkt import loads

"""Centre in Goes
"""

if True:
    import logging
    import sys
    root = logging.getLogger()
    root.setLevel(logging.DEBUG)
    ch = logging.StreamHandler(sys.stdout)
    ch.setLevel(logging.DEBUG)
#         formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')
    formatter = logging.Formatter('%(asctime)s - %(message)s')
    ch.setFormatter(formatter)
    root.addHandler(ch)

# original
# if True:
# ring = [(74029.47599999999511056,445622.80800000001909211),(74022.8169999999954598,445622.11400000000139698),(74023.09900000000197906,445619.97800000000279397),(74021.96000000000640284,445619.86800000001676381),(74022.06500000000232831,445618.78100000001722947),(74023.11100000000442378,445618.88199999998323619),(74024.28500000000349246,445606.70799999998416752),(74024.5,445606.72899999999208376),(74024.98399999999674037,445601.71000000002095476),(74025.26700000000710133,445601.7370000000228174),(74025.43099999999685679,445600.02799999999115244),(74033.13599999999860302,445600.77100000000791624),(74033.26799999999639113,445599.39600000000791624),(74034.29600000000209548,445599.49499999999534339),(74034.16400000000430737,445600.86300000001210719),(74037.91899999999441206,445601.22499999997671694),(74038.05199999999604188,445599.84600000001955777),(74039.09900000000197906,445599.9469999999855645),(74038.96700000000419095,445601.32099999999627471),(74042.68099999999685679,445601.67999999999301508),(74042.8120000000053551,445600.32099999999627471),(74043.87600000000384171,445600.42300000000977889),(74043.74499999999534339,445601.78100000001722947),(74047.73099999999976717,445602.16499999997904524),(74048.09600000000500586,445598.37599999998928979),(74047.09299999999348074,445598.27899999998044223),(74047.19999999999708962,445597.1720000000204891),(74048.21899999999732245,445597.27100000000791624),(74048.31600000000617001,445596.2629999999771826),(74049.39500000000407454,445596.36700000002747402),(74049.29700000000593718,445597.38000000000465661),(74055.42600000000675209,445597.97100000001955777),(74055.52499999999417923,445596.94300000002840534),(74056.61999999999534339,445597.04899999999906868),(74056.52099999999336433,445598.0719999999855645),(74057.59600000000500586,445598.17599999997764826),(74057.4940000000060536,445599.23300000000745058),(74056.38800000000628643,445599.12599999998928979),(74056.05599999999685679,445602.56800000002840534),(74057.1190000000060536,445602.66999999998370185),(74056.9980000000068685,445603.92099999997299165),(74055.94000000000232831,445603.81800000002840534),(74055.66300000000046566,445606.68599999998696148),(74058.68499999999767169,445606.97700000001350418),(74058.76900000000023283,445606.09999999997671694),(74059.74599999999918509,445606.19400000001769513),(74059.65799999999580905,445607.106000000028871),(74062.35899999999674037,445607.36599999997997656),(74062.44800000000395812,445606.4469999999855645),(74063.42299999999522697,445606.54100000002654269),(74063.32499999999708962,445607.5590000000083819),(74066.11000000000058208,445607.9340000000083819),(74066.59100000000034925,445603.26099999999860302),(74065.60700000000360887,445603.15999999997438863),(74065.71199999999953434,445602.1379999999771826),(74066.66800000000512227,445602.2370000000228174),(74066.77300000000104774,445601.21600000001490116),(74067.73299999999289867,445601.31500000000232831),(74067.62900000000081491,445602.31900000001769513),(74070.46400000000721775,445602.61099999997531995),(74070.57499999999708962,445601.54200000001583248),(74071.51300000000628643,445601.63900000002468005),(74071.40799999999580905,445602.65799999999580905),(74072.27300000000104774,445602.74699999997392297),(74072.16599999999743886,445603.78999999997904524),(74071.26700000000710133,445603.6969999999855645),(74071.0059999999939464,445606.231000000028871),(74071.77899999999499414,445607.34999999997671694),(74071.67900000000372529,445608.32900000002700835),(74073.66300000000046566,445609.20000000001164153),(74074.42100000000209548,445608.67599999997764826),(74074.96000000000640284,445609.45699999999487773),(74074.32899999999790452,445609.93900000001303852),(74075.64800000000104774,445612.22700000001350418),(74076.4940000000060536,445611.94199999998090789),(74076.72800000000279397,445612.91399999998975545),(74075.7519999999931315,445613.26799999998183921),(74075.47599999999511056,445615.94599999999627471),(74076.3690000000060536,445616.33799999998882413),(74076.1889999999984866,445617.23200000001816079),(74075.14699999999720603,445616.83299999998416752),(74073.19599999999627471,445618.96000000002095476),(74073.7519999999931315,445619.76500000001396984),(74072.98699999999371357,445620.29300000000512227),(74072.50999999999476131,445619.60200000001350418),(74069.86000000000058208,445620.56199999997625127),(74069.76700000000710133,445621.46700000000419095),(74068.79700000000593718,445621.36700000002747402),(74068.88599999999860302,445620.50300000002607703),(74065.9330000000045402,445620.19900000002235174),(74065.84299999999348074,445621.07500000001164153),(74064.97999999999592546,445620.98599999997531995),(74065.07099999999627471,445620.09700000000884756),(74062.14100000000325963,445619.79399999999441206),(74062.04799999999522697,445620.69500000000698492),(74061.05299999999988358,445620.59299999999348074),(74061.14500000000407454,445619.69799999997485429),(74059.73399999999674037,445619.55200000002514571),(74059.3120000000053551,445623.64199999999254942),(74060.21499999999650754,445623.73499999998603016),(74060.11699999999837019,445624.68800000002374873),(74059.3129999999946449,445624.60499999998137355),(74059.24099999999452848,445625.31099999998696148),(74058.32000000000698492,445625.21600000001490116),(74058.38999999999941792,445624.54100000002654269),(74053.94599999999627471,445624.08199999999487773),(74053.65700000000651926,445626.89000000001396984),(74054.60099999999511056,445626.98800000001210719),(74054.48200000000360887,445628.143999999971129),(74053.52400000000488944,445628.04499999998370185),(74053.41199999999662396,445629.1379999999771826),(74052.39999999999417923,445629.03399999998509884),(74052.51099999999860302,445627.95400000002700835),(74046.24300000000221189,445627.30800000001909211),(74046.1220000000030268,445628.4870000000228174),(74045.08000000000174623,445628.38000000000465661),(74045.19899999999324791,445627.22100000001955777),(74044.29799999999522697,445627.12800000002607703),(74044.42200000000593718,445625.92599999997764826),(74045.34900000000197906,445626.02199999999720603),(74045.74199999999837019,445622.09999999997671694),(74041.92200000000593718,445621.73200000001816079),(74041.8139999999984866,445622.84999999997671694),(74040.81900000000314321,445622.75400000001536682),(74040.92500000000291038,445621.65500000002793968),(74036.96499999999650754,445621.27299999998649582),(74036.86199999999371357,445622.34499999997206032),(74035.79399999999441206,445622.24200000002747402),(74035.89599999999336433,445621.1840000000083819),(74032.09600000000500586,445620.81800000002840534),(74031.98900000000139698,445621.91800000000512227),(74030.92900000000372529,445621.8159999999916181),(74031.03399999999965075,445620.72499999997671694),(74029.6889999999984866,445620.59499999997206032),(74029.47599999999511056,445622.80800000001909211)]
# conv = ToPointsAndSegments()
# conv.add_polygon([ring])
# skel = calc_skel(conv, pause=True, output=True)
# segments = (
# ( ( 51076.45, 391503.5 ), ( 51075.45, 391503.4 ) ),
# ( ( 51075.45, 391503.4 ), ( 51075.25, 391504.65 ) ),
# ( ( 51075.25, 391504.65 ), ( 51073.85, 391504.45 ) ),
# ( ( 51085.65, 391504.8 ), ( 51084.55, 391504.7 ) ),
# ( ( 51076.25, 391504.9 ), ( 51076.45, 391503.5 ) ),
# ( ( 51073.85, 391504.45 ), ( 51073.7, 391505.55 ) ),
# ( ( 51090.35, 391507.3 ), ( 51086.8, 391506.85 ) ),
# ( ( 51091.2, 391506.4 ), ( 51090.4, 391506.4 ) ),
# ( ( 51086.8, 391506.5 ), ( 51085.5, 391506.3 ) ),
# ( ( 51091.1, 391507.45 ), ( 51091.2, 391506.4 ) ),
# ( ( 51086.8, 391506.85 ), ( 51086.8, 391506.5 ) ),
# ( ( 51090.4, 391506.4 ), ( 51090.35, 391507.3 ) ),
# ( ( 51084.55, 391504.7 ), ( 51084.45, 391506.05 ) ),
# ( ( 51084.45, 391506.05 ), ( 51076.25, 391504.9 ) ),
# ( ( 51073.7, 391505.55 ), ( 51075.0, 391505.7 ) ),
# ( ( 51085.5, 391506.3 ), ( 51085.65, 391504.8 ) ),
# ( ( 51092.6, 391507.7 ), ( 51091.1, 391507.45 ) ),
# ( ( 51046.9, 391511.9 ), ( 51046.75, 391512.9 ) ),
# ( ( 51046.75, 391512.9 ), ( 51047.95, 391513.05 ) ),
# ( ( 51102.4, 391509.15 ), ( 51100.15, 391508.6 ) ),
# ( ( 51103.9, 391510.2 ), ( 51102.4, 391509.15 ) ),
# ( ( 51048.55, 391511.0 ), ( 51048.2, 391510.95 ) ),
# ( ( 51048.2, 391510.95 ), ( 51048.05, 391512.05 ) ),
# ( ( 51054.55, 391511.9 ), ( 51053.55, 391511.75 ) ),
# ( ( 51100.15, 391508.6 ), ( 51099.65, 391508.5 ) ),
# ( ( 51049.9, 391510.95 ), ( 51048.95, 391510.8 ) ),
# ( ( 51072.95, 391510.0 ), ( 51072.75, 391511.5 ) ),
# ( ( 51074.4, 391510.2 ), ( 51072.95, 391510.0 ) ),
# ( ( 51048.95, 391510.8 ), ( 51048.55, 391511.0 ) ),
# ( ( 51050.6, 391511.7 ), ( 51049.9, 391510.95 ) ),
# ( ( 51072.75, 391511.5 ), ( 51074.2, 391511.7 ) ),
# ( ( 51075.0, 391505.7 ), ( 51074.4, 391510.2 ) ),
# ( ( 51050.45, 391512.5 ), ( 51050.6, 391511.7 ) ),
# ( ( 51053.55, 391511.75 ), ( 51053.4, 391512.9 ) ),
# ( ( 51048.05, 391512.05 ), ( 51046.9, 391511.9 ) ),
# ( ( 51054.4, 391513.05 ), ( 51054.55, 391511.9 ) ),
# ( ( 51053.4, 391512.9 ), ( 51050.45, 391512.5 ) ),
# ( ( 51064.5, 391513.4 ), ( 51063.45, 391513.25 ) ),
# ( ( 51059.6, 391512.7 ), ( 51058.55, 391512.55 ) ),
# ( ( 51058.55, 391512.55 ), ( 51058.4, 391513.6 ) ),
# ( ( 51059.45, 391513.8 ), ( 51059.6, 391512.7 ) ),
# ( ( 51058.4, 391513.6 ), ( 51054.4, 391513.05 ) ),
# ( ( 51046.4, 391515.7 ), ( 51046.3, 391516.65 ) ),
# ( ( 51046.9, 391520.8 ), ( 51045.7, 391520.65 ) ),
# ( ( 51110.65, 391520.65 ), ( 51109.95, 391520.25 ) ),
# ( ( 51109.35, 391521.0 ), ( 51109.95, 391520.25 ) ),
# ( ( 51108.15, 391520.45 ), ( 51109.35, 391521.0 ) ),
# ( ( 51045.55, 391521.75 ), ( 51046.7, 391521.9 ) ),
# ( ( 51045.7, 391520.65 ), ( 51045.55, 391521.75 ) ),
# ( ( 51110.6, 391524.7 ), ( 51109.85, 391521.7 ) ),
# ( ( 51110.65, 391520.65 ), ( 51109.85, 391521.7 ) ),
# ( ( 51110.6, 391524.7 ), ( 51111.85, 391524.9 ) ),
# ( ( 51111.75, 391526.2 ), ( 51111.85, 391524.9 ) ),
# ( ( 51111.75, 391526.2 ), ( 51110.6, 391526.1 ) ),
# ( ( 51110.6, 391526.1 ), ( 51110.45, 391527.65 ) ),
# ( ( 51111.5, 391527.8 ), ( 51110.45, 391527.65 ) ),
# ( ( 51111.4, 391528.95 ), ( 51110.55, 391528.85 ) ),
# ( ( 51111.5, 391527.8 ), ( 51111.4, 391528.95 ) ),
# ( ( 51047.95, 391513.05 ), ( 51047.55, 391515.85 ) ),
# ( ( 51073.75, 391514.95 ), ( 51072.2, 391514.75 ) ),
# ( ( 51072.2, 391514.75 ), ( 51072.05, 391515.65 ) ),
# ( ( 51099.65, 391508.5 ), ( 51098.0, 391514.6 ) ),
# ( ( 51091.75, 391514.2 ), ( 51092.6, 391507.7 ) ),
# ( ( 51109.4, 391514.1 ), ( 51103.9, 391510.2 ) ),
# ( ( 51074.2, 391511.7 ), ( 51073.75, 391514.95 ) ),
# ( ( 51103.9, 391510.2 ), ( 51102.45, 391519.7 ) ),
# ( ( 51098.5, 391519.3 ), ( 51100.15, 391508.6 ) ),
# ( ( 51063.45, 391513.25 ), ( 51063.3, 391514.3 ) ),
# ( ( 51064.35, 391514.55 ), ( 51064.5, 391513.4 ) ),
# ( ( 51063.3, 391514.3 ), ( 51059.45, 391513.8 ) ),
# ( ( 51069.45, 391514.15 ), ( 51068.45, 391514.05 ) ),
# ( ( 51098.0, 391514.6 ), ( 51091.75, 391514.2 ) ),
# ( ( 51069.3, 391515.3 ), ( 51069.45, 391514.15 ) ),
# ( ( 51068.45, 391514.05 ), ( 51068.3, 391515.05 ) ),
# ( ( 51068.3, 391515.05 ), ( 51064.35, 391514.55 ) ),
# ( ( 51072.05, 391515.65 ), ( 51069.3, 391515.3 ) ),
# ( ( 51047.55, 391515.85 ), ( 51046.4, 391515.7 ) ),
# ( ( 51117.5, 391516.3 ), ( 51109.4, 391514.1 ) ),
# ( ( 51047.45, 391516.8 ), ( 51046.9, 391520.8 ) ),
# ( ( 51046.3, 391516.65 ), ( 51047.45, 391516.8 ) ),
# ( ( 51108.1, 391519.3 ), ( 51106.75, 391519.2 ) ),
# ( ( 51102.45, 391519.7 ), ( 51098.5, 391519.3 ) ),
# ( ( 51106.75, 391519.2 ), ( 51106.6, 391520.2 ) ),
# ( ( 51106.6, 391520.2 ), ( 51098.5, 391519.3 ) ),
# ( ( 51108.1, 391519.3 ), ( 51108.15, 391520.45 ) ),
# ( ( 51043.6, 391535.0 ), ( 51043.5, 391536.05 ) ),
# ( ( 51043.5, 391536.05 ), ( 51044.6, 391536.25 ) ),
# ( ( 51043.1, 391538.6 ), ( 51042.95, 391539.55 ) ),
# ( ( 51044.35, 391540.9 ), ( 51044.5, 391541.35 ) ),
# ( ( 51044.5, 391541.35 ), ( 51045.45, 391541.45 ) ),
# ( ( 51049.25, 391541.65 ), ( 51050.35, 391541.8 ) ),
# ( ( 51044.05, 391539.7 ), ( 51043.9, 391540.85 ) ),
# ( ( 51042.95, 391539.55 ), ( 51044.05, 391539.7 ) ),
# ( ( 51046.5, 391540.15 ), ( 51049.45, 391540.55 ) ),
# ( ( 51043.9, 391540.85 ), ( 51044.35, 391540.9 ) ),
# ( ( 51046.4, 391540.75 ), ( 51046.5, 391540.15 ) ),
# ( ( 51045.45, 391541.45 ), ( 51046.4, 391540.75 ) ),
# ( ( 51049.45, 391540.55 ), ( 51049.25, 391541.65 ) ),
# ( ( 51050.35, 391541.8 ), ( 51050.5, 391540.7 ) ),
# ( ( 51059.15, 391543.1 ), ( 51060.25, 391543.25 ) ),
# ( ( 51064.3, 391542.75 ), ( 51064.15, 391543.9 ) ),
# ( ( 51065.3, 391542.95 ), ( 51068.15, 391543.55 ) ),
# ( ( 51065.15, 391544.05 ), ( 51065.3, 391542.95 ) ),
# ( ( 51064.15, 391543.9 ), ( 51065.15, 391544.05 ) ),
# ( ( 51068.0, 391544.5 ), ( 51069.5, 391544.7 ) ),
# ( ( 51108.5, 391543.9 ), ( 51109.45, 391543.65 ) ),
# ( ( 51068.15, 391543.55 ), ( 51068.0, 391544.5 ) ),
# ( ( 51108.5, 391543.9 ), ( 51108.4, 391546.1 ) ),
# ( ( 51108.4, 391546.1 ), ( 51109.15, 391546.15 ) ),
# ( ( 51069.5, 391544.7 ), ( 51069.1, 391547.8 ) ),
# ( ( 51069.1, 391547.8 ), ( 51067.65, 391547.6 ) ),
# ( ( 51109.0, 391547.5 ), ( 51109.15, 391546.15 ) ),
# ( ( 51108.25, 391541.55 ), ( 51109.6, 391542.3 ) ),
# ( ( 51055.45, 391541.45 ), ( 51059.35, 391541.95 ) ),
# ( ( 51054.35, 391541.25 ), ( 51054.2, 391542.35 ) ),
# ( ( 51055.3, 391542.5 ), ( 51055.45, 391541.45 ) ),
# ( ( 51108.25, 391541.55 ), ( 51108.35, 391539.35 ) ),
# ( ( 51050.5, 391540.7 ), ( 51054.35, 391541.25 ) ),
# ( ( 51054.2, 391542.35 ), ( 51055.3, 391542.5 ) ),
# ( ( 51059.35, 391541.95 ), ( 51059.15, 391543.1 ) ),
# ( ( 51060.25, 391543.25 ), ( 51060.35, 391542.2 ) ),
# ( ( 51109.6, 391542.3 ), ( 51109.45, 391543.65 ) ),
# ( ( 51060.35, 391542.2 ), ( 51064.3, 391542.75 ) ),
# ( ( 51109.35, 391537.05 ), ( 51110.0, 391537.15 ) ),
# ( ( 51044.6, 391536.25 ), ( 51044.25, 391538.75 ) ),
# ( ( 51109.9, 391538.3 ), ( 51110.0, 391537.15 ) ),
# ( ( 51044.25, 391538.75 ), ( 51043.1, 391538.6 ) ),
# ( ( 51114.7, 391538.3 ), ( 51109.9, 391538.3 ) ),
# ( ( 51109.9, 391538.3 ), ( 51109.85, 391538.6 ) ),
# ( ( 51109.85, 391538.6 ), ( 51108.35, 391539.35 ) ),
# ( ( 51109.8, 391533.55 ), ( 51110.55, 391533.8 ) ),
# ( ( 51044.25, 391530.85 ), ( 51045.35, 391531.0 ) ),
# ( ( 51045.35, 391531.0 ), ( 51044.8, 391535.15 ) ),
# ( ( 51109.2, 391532.6 ), ( 51109.8, 391533.55 ) ),
# ( ( 51044.4, 391529.85 ), ( 51044.25, 391530.85 ) ),
# ( ( 51045.6, 391530.05 ), ( 51044.4, 391529.85 ) ),
# ( ( 51109.2, 391532.6 ), ( 51109.55, 391530.0 ) ),
# ( ( 51116.0, 391529.6 ), ( 51117.5, 391516.3 ) ),
# ( ( 51046.7, 391521.9 ), ( 51045.6, 391530.05 ) ),
# ( ( 51116.0, 391529.6 ), ( 51111.4, 391528.95 ) ),
# ( ( 51110.55, 391528.85 ), ( 51109.55, 391530.0 ) ),
# ( ( 51110.55, 391533.8 ), ( 51110.35, 391534.85 ) ),
# ( ( 51044.8, 391535.15 ), ( 51043.6, 391535.0 ) ),
# ( ( 51109.65, 391534.95 ), ( 51110.35, 391534.85 ) ),
# ( ( 51109.35, 391537.05 ), ( 51109.65, 391534.95 ) ),
# ( ( 51114.7, 391538.3 ), ( 51116.0, 391529.6 ) ),
# ( ( 51066.75, 391553.8 ), ( 51066.6, 391555.0 ) ),
# ( ( 51088.2, 391551.9 ), ( 51094.7, 391552.0 ) ),
# ( ( 51076.9, 391557.8 ), ( 51078.05, 391557.95 ) ),
# ( ( 51067.95, 391555.2 ), ( 51067.8, 391556.55 ) ),
# ( ( 51069.1, 391555.35 ), ( 51077.1, 391556.6 ) ),
# ( ( 51068.8, 391549.25 ), ( 51068.2, 391554.0 ) ),
# ( ( 51103.45, 391553.75 ), ( 51098.5, 391553.45 ) ),
# ( ( 51098.5, 391553.45 ), ( 51089.3, 391553.25 ) ),
# ( ( 51111.85, 391555.05 ), ( 51103.45, 391553.75 ) ),
# ( ( 51068.2, 391554.0 ), ( 51066.75, 391553.8 ) ),
# ( ( 51087.65, 391557.55 ), ( 51088.2, 391551.9 ) ),
# ( ( 51066.6, 391555.0 ), ( 51067.95, 391555.2 ) ),
# ( ( 51068.9, 391556.7 ), ( 51069.1, 391555.35 ) ),
# ( ( 51067.8, 391556.55 ), ( 51068.9, 391556.7 ) ),
# ( ( 51078.25, 391556.65 ), ( 51087.65, 391557.55 ) ),
# ( ( 51077.1, 391556.6 ), ( 51076.9, 391557.8 ) ),
# ( ( 51078.05, 391557.95 ), ( 51078.25, 391556.65 ) ),
# ( ( 51087.2, 391561.25 ), ( 51087.05, 391561.25 ) ),
# ( ( 51081.65, 391563.15 ), ( 51076.55, 391562.45 ) ),
# ( ( 51087.05, 391561.25 ), ( 51086.5, 391565.2 ) ),
# ( ( 51081.4, 391564.6 ), ( 51081.65, 391563.15 ) ),
# ( ( 51091.3, 391562.6 ), ( 51110.1, 391565.85 ) ),
# ( ( 51090.45, 391566.55 ), ( 51091.3, 391562.6 ) ),
# ( ( 51086.5, 391565.2 ), ( 51081.4, 391564.6 ) ),
# ( ( 51086.95, 391565.15 ), ( 51086.5, 391565.2 ) ),
# ( ( 51082.6, 391559.55 ), ( 51076.75, 391559.15 ) ),
# ( ( 51097.45, 391558.95 ), ( 51110.95, 391561.1 ) ),
# ( ( 51097.3, 391561.2 ), ( 51097.45, 391558.95 ) ),
# ( ( 51110.95, 391561.1 ), ( 51111.85, 391555.05 ) ),
# ( ( 51089.3, 391553.25 ), ( 51088.35, 391559.85 ) ),
# ( ( 51082.6, 391560.75 ), ( 51082.6, 391559.55 ) ),
# ( ( 51097.3, 391561.2 ), ( 51087.45, 391559.75 ) ),
# ( ( 51087.45, 391559.75 ), ( 51087.2, 391561.25 ) ),
# ( ( 51088.35, 391559.85 ), ( 51097.3, 391561.2 ) ),
# ( ( 51097.3, 391561.2 ), ( 51091.7, 391560.75 ) ),
# ( ( 51087.05, 391561.25 ), ( 51082.6, 391560.75 ) ),
# ( ( 51110.1, 391565.85 ), ( 51110.95, 391561.1 ) ),
# ( ( 51076.75, 391559.15 ), ( 51076.55, 391562.45 ) ),
# ( ( 51091.3, 391562.6 ), ( 51091.7, 391560.75 ) ),
# ( ( 51090.35, 391567.35 ), ( 51090.45, 391566.55 ) ),
# ( ( 51076.55, 391562.45 ), ( 51076.15, 391568.75 ) ),
# ( ( 51086.95, 391565.15 ), ( 51086.45, 391570.2 ) ),
# ( ( 51076.15, 391568.75 ), ( 51076.1, 391568.75 ) ),
# ( ( 51090.35, 391567.35 ), ( 51089.95, 391570.5 ) ),
# ( ( 51076.1, 391568.75 ), ( 51076.05, 391569.9 ) ),
# ( ( 51086.45, 391570.2 ), ( 51076.15, 391568.75 ) ),
# ( ( 51087.95, 391576.1 ), ( 51085.1, 391575.7 ) ),
# ( ( 51089.85, 391575.1 ), ( 51092.4, 391575.6 ) ),
# ( ( 51092.4, 391575.6 ), ( 51093.3, 391575.75 ) ),
# ( ( 51089.85, 391575.1 ), ( 51089.55, 391576.15 ) ),
# ( ( 51085.1, 391575.7 ), ( 51085.05, 391576.15 ) ),
# ( ( 51093.3, 391575.75 ), ( 51093.2, 391576.45 ) ),
# ( ( 51087.95, 391576.1 ), ( 51089.55, 391576.15 ) ),
# ( ( 51087.0, 391586.5 ), ( 51085.3, 391586.1 ) ),
# ( ( 51085.45, 391582.4 ), ( 51085.3, 391586.1 ) ),
# ( ( 51093.2, 391576.45 ), ( 51107.7, 391580.05 ) ),
# ( ( 51089.8, 391579.75 ), ( 51088.55, 391579.45 ) ),
# ( ( 51075.55, 391575.6 ), ( 51074.7, 391581.15 ) ),
# ( ( 51107.7, 391580.05 ), ( 51108.5, 391575.3 ) ),
# ( ( 51085.05, 391576.15 ), ( 51084.85, 391580.35 ) ),
# ( ( 51106.9, 391584.05 ), ( 51107.7, 391580.05 ) ),
# ( ( 51092.55, 391580.45 ), ( 51089.8, 391579.75 ) ),
# ( ( 51085.55, 391580.45 ), ( 51084.85, 391580.35 ) ),
# ( ( 51088.0, 391583.7 ), ( 51088.55, 391579.45 ) ),
# ( ( 51085.55, 391580.45 ), ( 51085.45, 391582.4 ) ),
# ( ( 51106.9, 391584.05 ), ( 51092.55, 391580.45 ) ),
# ( ( 51074.7, 391581.15 ), ( 51085.45, 391582.4 ) ),
# ( ( 51088.0, 391583.7 ), ( 51088.45, 391579.8 ) ),
# ( ( 51074.7, 391581.15 ), ( 51073.85, 391586.8 ) ),
# ( ( 51088.45, 391579.8 ), ( 51087.0, 391586.5 ) ),
# ( ( 51087.4, 391589.05 ), ( 51105.0, 391593.9 ) ),
# ( ( 51102.3, 391606.85 ), ( 51101.4, 391606.7 ) ),
# ( ( 51070.95, 391611.35 ), ( 51071.65, 391611.45 ) ),
# ( ( 51070.95, 391611.35 ), ( 51076.6, 391612.05 ) ),
# ( ( 51071.65, 391611.45 ), ( 51076.6, 391612.05 ) ),
# ( ( 51101.1, 391615.45 ), ( 51102.3, 391606.85 ) ),
# ( ( 51078.65, 391612.35 ), ( 51079.55, 391612.45 ) ),
# ( ( 51076.6, 391612.05 ), ( 51078.65, 391612.35 ) ),
# ( ( 51076.6, 391612.05 ), ( 51079.55, 391612.45 ) ),
# ( ( 51079.55, 391612.45 ), ( 51079.5, 391612.75 ) ),
# ( ( 51079.5, 391612.75 ), ( 51086.0, 391613.6 ) ),
# ( ( 51086.0, 391613.6 ), ( 51094.7, 391614.7 ) ),
# ( ( 51094.7, 391614.7 ), ( 51094.7, 391614.6 ) ),
# ( ( 51094.7, 391614.6 ), ( 51101.1, 391615.45 ) ),
# ( ( 51102.45, 391599.2 ), ( 51102.45, 391599.15 ) ),
# ( ( 51102.45, 391599.15 ), ( 51088.2, 391597.3 ) ),
# ( ( 51073.05, 391594.15 ), ( 51086.35, 391595.85 ) ),
# ( ( 51088.2, 391597.3 ), ( 51073.0, 391595.3 ) ),
# ( ( 51086.35, 391595.85 ), ( 51087.4, 391589.05 ) ),
# ( ( 51101.4, 391606.7 ), ( 51102.45, 391599.15 ) ),
# ( ( 51101.4, 391606.7 ), ( 51102.45, 391599.2 ) ),
# ( ( 51073.0, 391595.3 ), ( 51070.95, 391611.35 ) ),
# ( ( 51088.2, 391597.3 ), ( 51086.0, 391613.6 ) ),
# ( ( 51073.85, 391586.8 ), ( 51073.8, 391587.25 ) ),
# ( ( 51079.75, 391588.0 ), ( 51073.8, 391587.25 ) ),
# ( ( 51079.75, 391588.0 ), ( 51079.7, 391587.55 ) ),
# ( ( 51088.0, 391583.7 ), ( 51087.5, 391588.2 ) ),
# ( ( 51106.1, 391588.25 ), ( 51088.0, 391583.7 ) ),
# ( ( 51106.1, 391588.25 ), ( 51106.9, 391584.05 ) ),
# ( ( 51105.0, 391593.9 ), ( 51106.1, 391588.25 ) ),
# ( ( 51073.8, 391587.25 ), ( 51073.05, 391594.15 ) ),
# ( ( 51079.7, 391587.55 ), ( 51087.5, 391588.2 ) ),
# ( ( 51087.4, 391589.05 ), ( 51087.5, 391588.2 ) ),
# ( ( 51092.9, 391572.65 ), ( 51093.15, 391571.25 ) ),
# ( ( 51109.3, 391570.6 ), ( 51110.1, 391565.85 ) ),
# ( ( 51076.05, 391569.9 ), ( 51075.6, 391575.05 ) ),
# ( ( 51109.3, 391570.6 ), ( 51090.35, 391567.35 ) ),
# ( ( 51093.15, 391571.25 ), ( 51089.95, 391570.5 ) ),
# ( ( 51108.5, 391575.3 ), ( 51109.3, 391570.6 ) ),
# ( ( 51075.6, 391575.05 ), ( 51075.55, 391575.6 ) ),
# ( ( 51092.9, 391572.65 ), ( 51108.5, 391575.3 ) ),
# ( ( 51092.4, 391575.6 ), ( 51092.9, 391572.65 ) ),
# ( ( 51085.05, 391576.15 ), ( 51075.6, 391575.05 ) ),
# ( ( 51104.05, 391549.0 ), ( 51104.15, 391549.0 ) ),
# ( ( 51067.65, 391547.6 ), ( 51067.45, 391549.05 ) ),
# ( ( 51095.35, 391547.85 ), ( 51104.05, 391549.0 ) ),
# ( ( 51109.0, 391547.5 ), ( 51113.35, 391548.05 ) ),
# ( ( 51113.35, 391548.05 ), ( 51114.7, 391538.3 ) ),
# ( ( 51067.45, 391549.05 ), ( 51068.8, 391549.25 ) ),
# ( ( 51094.7, 391552.0 ), ( 51095.35, 391547.85 ) ),
# ( ( 51111.85, 391555.05 ), ( 51113.35, 391548.05 ) ),
# ( ( 51104.15, 391549.0 ), ( 51103.45, 391553.75 ) )
# )
# #     conv = ToPointsAndSegments()
# #     for line in segments:
# #         conv.add_point(line[0])
# #         conv.add_point(line[1])
# #         conv.add_segment(*line)
# #     print conv.points
# #     skel = calc_skel(conv, pause=True, output=True)
# 
# with open("/tmp/out.wkt", "w") as fh:
#     print >> fh, "wkt\n"
#     for line in segments:
#         print >> fh, "LINESTRING({0[0][0]} {0[0][1]}, {0[1][0]} {0[1][1]})\n".format(line)

# 
#with open("/home/martijn/Documents/work/2016-01_grassfire_for_building_generalization/data/goes_zeeland/in-out/inwards_0276.geojson") as fh: #outwards_0276.geojson") as fh:
with open("/home/martijn/Documents/work/2016-01_grassfire_for_building_generalization/data/goes_zeeland/input_outline.geojson") as fh: #outwards_0276.geojson") as fh:
    s = fh.read()
# #   
import json
x = json.loads(s)
# parse segments from geo-json
segments = []
for y in x['features']:
    segments.append(tuple(map(tuple, y['geometry']['coordinates'])))
# 
# # convert to triangulation input
conv = ToPointsAndSegments()
for line in segments:
    conv.add_point(line[0])
    conv.add_point(line[1])
    conv.add_segment(*line)
# skeletonize / offset
skel = calc_skel(conv, pause=False, output=True, shrink=True)
